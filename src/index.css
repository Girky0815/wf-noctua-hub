/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Google+Sans+Flex:opsz,slnt,wdth,wght,GRAD,ROND@6..144,-10..0,25..151,1..1000,0..100,0..100&family=Noto+Sans+JP:wght@100..900&display=swap');

@import "tailwindcss";

@theme {
  /* Fonts */
  --font-sans: 'Google Sans Flex', 'Noto Sans JP', 'GenJyuuGothicX', sans-serif;
  --font-display: 'Google Sans Flex', 'GenJyuuGothicX', 'Noto Sans JP', sans-serif;
  --font-jp-fallback: 'Noto Sans JP', sans-serif;

  /* Border Radius */
  --radius-3xl: 28px;

  /* Colors */
  --color-primary: var(--primary);
  --color-on-primary: var(--on-primary);
  --color-primary-container: var(--primary-container);
  --color-on-primary-container: var(--on-primary-container);
  --color-inverse-primary: var(--inverse-primary);

  --color-secondary: var(--secondary);
  --color-on-secondary: var(--on-secondary);
  --color-secondary-container: var(--secondary-container);
  --color-on-secondary-container: var(--on-secondary-container);

  --color-tertiary: var(--tertiary);
  --color-on-tertiary: var(--on-tertiary);
  --color-tertiary-container: var(--tertiary-container);
  --color-on-tertiary-container: var(--on-tertiary-container);

  --color-error: var(--error);
  --color-on-error: var(--on-error);
  --color-error-container: var(--error-container);
  --color-on-error-container: var(--on-error-container);

  --color-background: var(--background);
  --color-on-background: var(--on-background);
  
  --color-surface: var(--surface);
  --color-on-surface: var(--on-surface);
  --color-surface-variant: var(--surface-variant);
  --color-on-surface-variant: var(--on-surface-variant);
  --color-inverse-surface: var(--inverse-surface);
  --color-inverse-on-surface: var(--inverse-on-surface);

  /* Surface Containers (M3E) */
  --color-surface-container-lowest: var(--surface-container-lowest);
  --color-surface-container-low: var(--surface-container-low);
  --color-surface-container: var(--surface-container);
  --color-surface-container-high: var(--surface-container-high);
  --color-surface-container-highest: var(--surface-container-highest);
  --color-surface-dim: var(--surface-dim);
  --color-surface-bright: var(--surface-bright);

  --color-outline: var(--outline);
  --color-outline-variant: var(--outline-variant);
  --color-scrim: var(--scrim);
}

/* Local Font: GenJyuuGothicX (Subset) - Fallback for ROND 100 */
@font-face {
  font-family: 'GenJyuuGothicX';
  src: url('./assets/fonts/GenJyuuGothicX-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'GenJyuuGothicX';
  src: url('./assets/fonts/GenJyuuGothicX-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'GenJyuuGothicX';
  src: url('./assets/fonts/GenJyuuGothicX-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

  :root,
  :root.light {
    color-scheme: light;
    /* Default Theme (Green) - Light */
    --primary: #286A56;
    --on-primary: #E4FFF2;
    --primary-container: #AEF0D7;
    --on-primary-container: #175C49;
    --inverse-primary: #B9FCE2;
    --secondary: #4C645A;
    --on-secondary: #E4FFF2;
    --secondary-container: #CEE9DC;
    --on-secondary-container: #3F574D;
    --tertiary: #2E6771;
    --on-tertiary: #EDFBFF;
    --tertiary-container: #B7EFFB;
    --on-tertiary-container: #215B65;
    --error: #A83836;
    --on-error: #FFF7F6;
    --error-container: #ffdad6;
    --on-error-container: #6E0A12;
    --background: #F6FAF6;
    --on-background: #2B3530;
    --surface: #F6FAF6;
    --on-surface: #2B3530;
    --surface-variant: #DAE5DF;
    --on-surface-variant: #57615C;
    --inverse-surface: #0B0F0D;
    --inverse-on-surface: #999E9B;
    --surface-container-lowest: #FFFFFF;
    --surface-container-low: #EFF5F0;
    --surface-container: #E8F0EA;
    --surface-container-high: #E1EAE4;
    --surface-container-highest: #DAE5DF;
    --surface-dim: #D2DDD6;
    --surface-bright: #F6FAF6;
    --outline: #737D78;
    --outline-variant: #AAB4AE;
    --scrim: #000000;
  }

  /* Dark Theme */
  :root.dark {
    color-scheme: dark;
    --primary: #9FD1BD;
    --on-primary: #174839;
    --primary-container: #2C5B4B;
    --on-primary-container: #BCEED9;
    --inverse-primary: #396858;
    --secondary: #B2CCC0;
    --on-secondary: #2E453C;
    --secondary-container: #294037;
    --on-secondary-container: #ABC5B9;
    --tertiary: #DDF9FF;
    --on-tertiary: #2B636E;
    --tertiary-container: #B7EFFB;
    --on-tertiary-container: #205B65;
    --error: #FA746F;
    --on-error: #490006;
    --error-container: #93000a;
    --on-error-container: #FF9993;
    --background: #0B0F0D;
    --on-background: #DDE8E1;
    --surface: #0B0F0D;
    --on-surface: #DDE8E1;
    /* --surface-variant: #1E2824;  Modified for better visibility if needed */
    --surface-variant: #404A45;
    --on-surface-variant: #A3AEA8;
    --inverse-surface: #F6FAF6;
    --inverse-on-surface: #515653;
    --surface-container-lowest: #000000;
    --surface-container-low: #0E1512;
    --surface-container: #141B18;
    --surface-container-high: #19211E;
    --surface-container-highest: #1E2824;
    --surface-dim: #0B0F0D;
    --surface-bright: #242E2A;
    --outline: #6D7872;
    --outline-variant: #404A45;
    --scrim: #000000;
  }

  /* Black Theme */
  :root.black {
    color-scheme: dark;
    --background: #000000;
    --surface: #000000;
    --surface-container-lowest: #000000;
    --surface-container-low: #000000;
    --surface-container: #000000;
    --surface-container-high: #000000;
    --surface-container-highest: #000000;
    --surface-dim: #000000;
    --surface-bright: #000000;
    /* Reuse others from dark theme */
    --primary: #9FD1BD;
    --on-primary: #174839;
    --primary-container: #2C5B4B;
    --on-primary-container: #BCEED9;
    --inverse-primary: #396858;
    --secondary: #B2CCC0;
    --on-secondary: #2E453C;
    --secondary-container: #294037;
    --on-secondary-container: #ABC5B9;
    --tertiary: #DDF9FF;
    --on-tertiary: #2B636E;
    --tertiary-container: #B7EFFB;
    --on-tertiary-container: #205B65;
    --error: #FA746F;
    --on-error: #490006;
    --error-container: #871F21;
    --on-error-container: #FF9993;
    --on-background: #DDE8E1;
    --on-surface: #DDE8E1;
    --surface-variant: #404A45;
    --on-surface-variant: #A3AEA8;
    --inverse-surface: #F6FAF6;
    --inverse-on-surface: #515653;
    --outline: #6D7872;
    --outline-variant: #404A45;
    --scrim: #000000;
  }

@layer base {
  html {
    scrollbar-gutter: stable;
    scrollbar-color: var(--color-secondary) var(--color-surface-dim);
  }

  body {
    background-color: var(--background);
    color: var(--on-background);
    font-family: theme('fontFamily.sans');
    font-variant-ligatures: none;
    -webkit-font-smoothing: subpixel-antialiased;
  }

  /* Apply ROND 100 and GenJyuuGothicX for bold text/headings */
  h1, h2, h3, h4, h5, h6, .font-bold, strong, b {
    font-family: 'Google Sans Flex', 'GenJyuuGothicX', 'Noto Sans JP', sans-serif;
    font-variation-settings: 'ROND' 100;
  }
}


/* Material Symbols Layout Stability (Prevent FOUT/FOIT layout shifts) */
.material-symbols-rounded {
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  line-height: 1;
  /* Enforce square rendering to prevent text spill */
  width: 1em;
  height: 1em;
  /* overflow: hidden; Removed to prevent clipping on right edge */
  /* Better vertical alignment */
  vertical-align: bottom;
  
  /* Prevent selection */
  -webkit-user-select: none;
  user-select: none;
  
  /* Rendering opts */
  -webkit-font-smoothing: subpixel-antialiased;
  /* text-rendering: optimizeLegibility; */
  /* font-feature-settings: ''; */
}